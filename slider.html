<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Vertical Full-Screen Slider</title>
        <link rel="stylesheet" href="css/main.css" />
    </head>
    <body class="slider-page">
        <div class="slider-container" id="slider">
            <div class="slide">
                <h1>Slide 1</h1>
                <p>Scroll down to begin</p>
            </div>
            <div class="slide">
                <h1>Slide 2</h1>
                <p>Clean and Simple</p>
            </div>
            <div class="slide">
                <h1>Slide 3</h1>
                <p>Vertical Transitions</p>
            </div>
            <div class="slide">
                <h1>Slide 4</h1>
                <p>Pure JavaScript</p>
            </div>
            <div class="slide">
                <h1>Slide 5</h1>
                <p>The End</p>
            </div>
        </div>

        <div class="nav-dots" id="dots">
            <div class="dot active" onclick="goToSlide(0)"></div>
            <div class="dot" onclick="goToSlide(1)"></div>
            <div class="dot" onclick="goToSlide(2)"></div>
            <div class="dot" onclick="goToSlide(3)"></div>
            <div class="dot" onclick="goToSlide(4)"></div>
        </div>

        <script>
            let currentSlide = 0;
            const totalSlides = 5;
            let isScrolling = false; // Flag to prevent rapid scrolling
            const slider = document.getElementById("slider");
            const dots = document.querySelectorAll(".dot");

            // Function to handle the actual movement
            function goToSlide(index) {
                if (index < 0 || index >= totalSlides) return;

                currentSlide = index;

                // Move the container vertically
                // -100vh * slideIndex moves it up by that many viewports
                slider.style.transform = `translateY(-${currentSlide * 100}vh)`;

                // Update dots
                dots.forEach((dot) => dot.classList.remove("active"));
                dots[currentSlide].classList.add("active");
            }

            // Listen for Mouse Wheel events
            window.addEventListener(
                "wheel",
                (e) => {
                    if (isScrolling) return; // Ignore if currently animating

                    if (e.deltaY > 0) {
                        // Scroll Down
                        if (currentSlide < totalSlides - 1) {
                            goToSlide(currentSlide + 1);
                            setScrollTimeout();
                        }
                    } else {
                        // Scroll Up
                        if (currentSlide > 0) {
                            goToSlide(currentSlide - 1);
                            setScrollTimeout();
                        }
                    }
                },
                { passive: false }
            );

            // Timeout to stop rapid-fire scrolling (debounce)
            function setScrollTimeout() {
                isScrolling = true;
                setTimeout(() => {
                    isScrolling = false;
                }, 1000); // Wait 1 second before allowing next scroll
            }
        </script>
    </body>
</html>


